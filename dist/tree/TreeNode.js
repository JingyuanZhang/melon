/*! 2016 Baidu Inc. All Rights Reserved */
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","react","../common/util/cxBuilder","../Icon","../babelHelpers"],t);else if("undefined"!=typeof exports)t(exports,require("react"),require("../common/util/cxBuilder"),require("../Icon"),require("../babelHelpers"));else{var r={exports:{}};t(r.exports,e.react,e.cxBuilder,e.Icon,e.babelHelpers),e.TreeNode=r.exports}}(this,function(exports,e,t,r,o){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=o.interopRequireDefault(e),n=o.interopRequireDefault(r),a=t.create("TreeNode"),l=function(t){function r(e){o.classCallCheck(this,r);var i=o.possibleConstructorReturn(this,t.call(this,e));return i.onClick=i.onClick.bind(i),i.state={expand:e.expand||!1},i}return o.inherits(r,t),r.prototype.shouldComponentUpdate=function(e,t){return t.expand!==this.state.expand},r.prototype.componentWillReceiveProps=function(e){if(e.expand!==this.props.expand)this.setState({expand:e.expand})},r.prototype.onClick=function(e){this.setState({expand:!this.state.expand})},r.prototype.render=function(){var t=this.props,l=t.label,s=o.objectWithoutProperties(t,["label"]),u=this.state.expand,p=u?t.expandIcon||r.ICON[1]:t.unexpandIcon||r.ICON[0],c=t.children,d=void 0,f=void 0;if(t.level){var h=t.level-0;f={paddingLeft:1.2*h+.4+"em"},d={left:.25+1.2*(h-1)+"em"}}if(e.Children.count(c)>0)c=[i["default"].createElement(n["default"],{key:"icon",icon:p,onClick:this.onClick,style:d}),i["default"].createElement("span",{onClick:this.onClick,key:"label","data-role":"tree-node-label",style:f,className:a().part("label").addVariants("parent").addStates({expand:u}).build()},l),i["default"].createElement("ul",{className:a().part("root").addStates({expand:u}).build(),key:"root",ref:"list"},c)];else c=i["default"].createElement("span",{onClick:this.onClick,key:"label","data-role":"tree-node-label",style:f,className:a().part("label").build()},l);return i["default"].createElement("li",o["extends"]({},s,{"data-role":"tree-node",className:a(t).addVariants("level"+t.level).build()}),c)},r}(e.Component);exports["default"]=l,l.propTypes={label:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.element]),expandIcon:e.PropTypes.string,unexpandIcon:e.PropTypes.string,expand:e.PropTypes.bool,selected:e.PropTypes.bool,level:e.PropTypes.number},l.defaultProps={label:"",expand:!1,selected:!1},l.ICON=["chevron-right","expand-more"]});