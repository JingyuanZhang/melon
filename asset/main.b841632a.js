/*! 2015 Baidu Inc. All Rights Reserved */
define("home/routes",["require","exports","module"],function(require,exports,module){exports.__esModule=!0,exports["default"]=[{path:"/",page:"home/HomePage"}],module.exports=exports["default"]}),define("home/HomeView",["require","exports","module","../babelHelpers","react","ei","melon/Title","melon/Button","melon/Link","melon/common/util/cxBuilder"],function(require,exports,module){var e=require("../babelHelpers");exports.__esModule=!0;var t=require("react"),n=e.interopRequireDefault(t),r=require("ei"),o=require("melon/Title"),a=e.interopRequireDefault(o),i=require("melon/Button"),u=e.interopRequireDefault(i),l=require("melon/Link"),s=e.interopRequireDefault(l),c=require("melon/common/util/cxBuilder").create("Homeview"),p=function(t){function r(){e.classCallCheck(this,r),t.apply(this,arguments)}return e.inherits(r,t),r.prototype.render=function(){return n["default"].createElement("div",{className:c(this.props).build()},n["default"].createElement("div",{className:c().part("header").build()},n["default"].createElement("div",{className:c().part("header-logo").build()}),n["default"].createElement(a["default"],{level:1},"melon ui"),n["default"].createElement("p",null,"A Set of React Components that Implement"),n["default"].createElement("p",null,"Google's Material Design")),n["default"].createElement("div",{className:c().part("info").build()},n["default"].createElement("p",null,"Melon是一款基于",n["default"].createElement(s["default"],{target:"_blank",href:"http://facebook.github.io/react/"},"React"),"，采用",n["default"].createElement(s["default"],{target:"_blank",href:"https://www.google.com/design/spec/material-design/introduction.html"},"Google's Material Design"),"设计的组件库。")),n["default"].createElement("div",{className:c().part("github").build()},n["default"].createElement("p",null,"请在github上关注我们的项目"),n["default"].createElement(u["default"],{variants:["raised","primary"],onClick:function(){window.location="https://github.com/react-melon/melon/"}},"GITHUB")),n["default"].createElement("div",{className:c().part("footer").build()},n["default"].createElement("p",null,"©2015 Baidu")))},e.createClass(r,null,[{key:"displayName",value:"HomeView",enumerable:!0}]),r}(n["default"].Component);p=r.connect(p,!0),exports["default"]=p,module.exports=exports["default"]}),define("home/HomePage",["require","exports","module","../babelHelpers","ei","../common/middleware/pageDispatchEvent","../common/middleware/asyncAction","../common/middleware/logger","./HomeView"],function(require,exports,module){var e=require("../babelHelpers");exports.__esModule=!0;var t=require("ei"),n=e.interopRequireDefault(t),r=require("../common/middleware/pageDispatchEvent"),o=e.interopRequireDefault(r),a=require("../common/middleware/asyncAction"),i=e.interopRequireDefault(a),u=require("../common/middleware/logger"),l=e.interopRequireDefault(u),s=n["default"].Page.extend({middlewares:[i["default"],o["default"],l["default"]],view:require("./HomeView"),reducer:{},getInitialState:function(e){return{}}});exports["default"]=s,module.exports=exports["default"]}),define("common/util/toQueryString",["require","exports","module","numen/util"],function(require,exports,module){var e=require("numen/util");module.exports=e.toQueryString}),define("common/util/random",["require","exports","module"],function(require,exports,module){exports.__esModule=!0,exports["default"]=function(){return Math.random().toString(36).substr(2,8)},module.exports=exports["default"]}),define("common/util/fetch",["require","exports","module","../../babelHelpers","numen/util"],function(require,exports,module){function e(e,t){var n=l.request.reduce(function(e,t){return t(e)},i._extends({url:e},t,{credentials:"same-origin"})),r=n.query,o=i.objectWithoutProperties(n,["query"]);return e=u.addQuery(n.url,r),fetch(e,o).then(function(e){if(e.ok)return e.json();throw new Error("hehe")}).then(function(e){return l.response.reduce(function(e,t){return t(e)},e)})["catch"](function(e){if(e)console.error(e.statusInfo||e.stack||"unknown error");throw e})}function t(e,t){l[e].push(t)}function n(e,t){l[e]=l[e].filter(function(e){return e!==t})}function r(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e(t,i._extends({},n,{method:"GET",headers:i._extends({Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"},n.headers||{})}))}function o(e){if(!e)return{};else return Object.keys(e).reduce(function(t,n){return t[n.toLowerCase()]=e[n],t},{})}function a(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.body,a=n.headers;if(a=i._extends({accept:"application/json","content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-requested-with":"XMLHttpRequest"},o(a)),r instanceof FormData&&0===a["content-type"].indexOf("multipart"))delete a["content-type"];return e(t,i._extends({},n,{headers:a,method:"POST"}))}var i=require("../../babelHelpers");exports.__esModule=!0,exports.addInterceptor=t,exports.removeInterceptor=n,exports.get=r,exports.post=a;var u=require("numen/util"),l={request:[],response:[]};exports["default"]={get:r,post:a,addInterceptor:t,removeInterceptor:n}}),define("common/util/composeReducer",["require","exports","module"],function(require,exports,module){exports.__esModule=!0,exports["default"]=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){if("function"!=typeof t){var r=n.type;t=t[r]}if("function"==typeof t)return t(e,n.payload,n);else return e},e)}},module.exports=exports["default"]}),define("common/util/Enum",["require","exports","module","../../babelHelpers"],function(require,exports,module){var e=require("../../babelHelpers");exports.__esModule=!0;var t=function(){function t(n,r){var o=r.value,a=r.description;if(e.classCallCheck(this,t),this.name=n,null!=o)this.value=o;if(a)this.description=a;Object.freeze(this)}return t.prototype.toString=function(){return this.description||this.name},t.prototype.valueOf=function(){return this.value},t}();exports.EnumSymbol=t;var n=function(){function n(r){e.classCallCheck(this,n);for(var o in r){if(!r[o])throw new TypeError("each enum should have been initialized with atleast empty {} value");this[o]=new t(o,r[o])}Object.freeze(this)}return n.prototype.keys=function(){return Object.keys(this)},n.prototype.contains=function(e){return!!this[e]},n}();exports.Enum=n,exports["default"]=n}),define("common/middleware/pageDispatchEvent",["require","exports","module"],function(require,exports,module){function e(e,t,n,r){if("function"!=typeof n){var o=n.event,a=n.type;e.emit(o||a,n)}r(n)}module.exports=function(t){return e.bind(null,t)}}),define("common/middleware/pageAction",["require","exports","module"],function(require,exports,module){function e(e,t,n,r){var o=n.type;if("function"!=typeof n&&0===n.type.indexOf("@")){var a=e[o.slice(1)];if(!a)throw new Error("啊，view发来的快递page没有方式收啊。。。");return void a.call(e,n.payload,t)}r(n)}module.exports=function(t){return e.bind(null,t)}}),define("common/middleware/logger",["require","exports","module"],function(require,exports,module){function e(e,t,n,r){if("function"!=typeof n)console.log(e,n);r(n)}var t=0;module.exports=function(n){return e.bind(null,t++)}}),define("common/middleware/asyncAction",["require","exports","module"],function(require,exports,module){function e(e,t,n){var r=t.type,o=t.payload;if(!o||"function"!=typeof o.then)return void n(t);var a=t.events||{};n({type:r+"_START",event:a.start||r+"_START"}),o.then(function(e){n({type:r+"_SUCCEED",payload:e,event:a.succeed||r+"_SUCCEED"})},function(e){n({type:r+"_FAILED",payload:e,error:!0,event:a.failed||r+"_FAILED"})})}module.exports=function(t){return e}}),define("common/component/Page",["require","exports","module","../../babelHelpers","react","es6-promise","melon/Progress","react-dom","ei"],function(require,exports,module){var e=require("../../babelHelpers");exports.__esModule=!0;var t=require("react"),n=e.interopRequireDefault(t),r=require("es6-promise"),o=require("melon/Progress"),a=e.interopRequireDefault(o),i=require("react-dom"),u=e.interopRequireDefault(i),l=require("ei"),s=function(t){function o(n){e.classCallCheck(this,o),t.call(this,n),this.state={pendding:!1,ready:!1,error:null}}return e.inherits(o,t),e.createClass(o,null,[{key:"displayName",value:"Page",enumerable:!0}]),o.prototype.render=function(){var e=this.state,t=e.ready,r=e.page,o=e.error,a="";if(o)a=this.renderErrorMessage(o);else if(t)try{a=r.createElement()}catch(i){a=this.renderErrorMessage("啊哦，出现了一些奇怪的问题，请稍候再试"),console.error(i)}else a=this.renderLoading();return n["default"].createElement("div",{className:"ui-page"},a)},o.prototype.renderErrorMessage=function(e){var t=e.status,r=e.statusInfo;return n["default"].createElement("div",{className:"ui-page-error-message"},n["default"].createElement("h3",null,t),n["default"].createElement("p",null,r))},o.prototype.renderLoading=function(){return n["default"].createElement("div",{className:"ui-page-loading"},n["default"].createElement("span",null,"loading..."))},o.prototype.componentDidMount=function(){var e=this.props,t=e.initialState,n=e.request,r=this.context.app;this.renderPage(r,n,t)},o.prototype.renderPage=function(e,t,n){var o=this,a=o.state.page;o.setState({pendding:!0,error:null});var i=e.route(t);if(!i)return void o.setState({ready:!1,error:{status:404,statusInfo:"啊哦，这个页面迷失在了茫茫宇宙中。。。"},pendding:!1,page:null});else return void e.loadPage(i.page).then(function(e){var t=void 0;if(a&&a instanceof e)t=a;else t=new e,t.on("*",function(){var e=t.getCurrentEvent().split(/[\-_]/).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(""),n="on"+e,r=o.props[n];if("function"==typeof r)r.apply(null,arguments)});return t.route=i,t}).then(function(e){if(n)return e.setState(n),e;else return r.Promise.resolve(e.getInitialState(t)).then(function(t){return l.events.emit("page-initial-state-loaded",{state:t}),e.init(t),e})}).then(function(e){if(a&&a!==e)a.dispose(),l.events.emit("page-disposed",{page:a});o.setState({page:e,ready:!0,pendding:!1,error:null},function(){l.events.emit("page-render-succeed",{page:e,isChild:!o.props.main})})})["catch"](function(e){o.setState({error:e,ready:!1,pendding:!1,page:null})})},o.prototype.componentWillReceiveProps=function(e){var t=this.props.request,n=e.request;if(t.pathname!==n.pathname||t.search!==n.search)this.renderPage(this.context.app,n,null)},o.prototype.componentDidUpdate=function(){var e=this.state.pendding,t=this.indicator;if(!t)t=this.indicator=document.createElement("div"),t.className="ui-page-indicator",document.body.appendChild(t);if(e)u["default"].render(n["default"].createElement(a["default"],{mode:"indeterminate"}),t);else u["default"].unmountComponentAtNode(t)},o.prototype.componentWillUnmount=function(){var e=this.state.page,t=this.indicator;if(e)e.dispose();if(t)u["default"].unmountComponentAtNode(t),this.indicator=null},o}(n["default"].Component),c=n["default"].PropTypes;s.contextTypes={app:c.object.isRequired},s.propTypes={request:c.shape({pathname:c.string.isRequired,query:c.object,search:c.string}).isRequired,initialState:c.any},exports["default"]=s,module.exports=exports["default"]}),define("common/conf/navs",["require","exports","module"],function(require,exports,module){module.exports=[{text:"Melon",children:[{text:"Introduction",pathname:"/",title:""}]},{text:"Components",children:[{text:"Button",pathname:"/component/button"}]}]}),define("common/component/Nav",["require","exports","module","../../babelHelpers","react","melon/Title","melon/Button","melon/Icon","./DrawerNav","melon/common/util/cxBuilder","../conf/navs","underscore"],function(require,exports,module){var e=require("../../babelHelpers");exports.__esModule=!0;var t=require("react"),n=e.interopRequireDefault(t),r=require("melon/Title"),o=e.interopRequireDefault(r),a=require("melon/Button"),i=e.interopRequireDefault(a),u=require("melon/Icon"),l=e.interopRequireDefault(u),s=require("./DrawerNav"),c=e.interopRequireDefault(s),p=require("melon/common/util/cxBuilder").create("Nav"),d=require("../conf/navs"),f=require("underscore"),m=function(t){function r(n){e.classCallCheck(this,r),t.call(this,n),this.state={open:!1},this.onClick=this.onClick.bind(this)}return e.inherits(r,t),e.createClass(r,null,[{key:"displayName",value:"Nav",enumerable:!0}]),r.prototype.onClick=function(){this.setState({open:!0})},r.prototype.getCurrentPathConf=function(){for(var e=this.props.location.pathname,t=void 0,n=function(n){var r=d[n].children;if(t=f.reduce(r,function(t,r){if(e===r.pathname)return r.title=null==r.title?d[n].text+" - "+r.text:r.title,r;else return t},!1))return{v:t};else return void 0},r=d.length-1;r>=0;r--){var o=n(r);if("object"==typeof o)return o.v}},r.prototype.render=function(){return n["default"].createElement("aside",{className:p(this.props).build()},this.renderButton(),this.renderTitle(),this.renderMenu())},r.prototype.renderButton=function(){return n["default"].createElement(i["default"],{size:"xxl",onClick:this.onClick},n["default"].createElement(l["default"],{icon:"dehaze"}))},r.prototype.renderTitle=function(){var e=this.getCurrentPathConf();if(!e.title)return null;else return n["default"].createElement(o["default"],{level:1},"Melon - ",e.title)},r.prototype.renderMenu=function(){var e=this,t=this.getCurrentPathConf();return n["default"].createElement(c["default"],{open:this.state.open,current:t,onHide:function(){e.setState({open:!1})}})},r}(n["default"].Component);exports["default"]=m,module.exports=exports["default"]}),define("common/component/ErrorMessage",["require","exports","module","../../babelHelpers","react","melon/Icon","melon/common/util/cxBuilder"],function(require,exports,module){var e=require("../../babelHelpers");exports.__esModule=!0;var t=require("react"),n=e.interopRequireDefault(t),r=require("melon/Icon"),o=e.interopRequireDefault(r),a=require("melon/common/util/cxBuilder").create("ErrorMessage"),i=function(t){function r(){e.classCallCheck(this,r),t.apply(this,arguments)}return e.inherits(r,t),r.prototype.render=function(){var e=this.props.error,t=e.statusInfo,r=e.message,i=e.stack,u=e.debug;return n["default"].createElement("div",{className:a(this.props).build()},n["default"].createElement(o["default"],{icon:"error"}),t||r||"啊哦，发生了一些奇怪的事，请稍候再试",u?n["default"].createElement("p",null,i):null)},e.createClass(r,null,[{key:"displayName",value:"ErrorMessage",enumerable:!0}]),r}(n["default"].Component),u=n["default"].PropTypes;i.propTypes={error:u.instanceOf(Error).isRequired,debug:u.bool},exports["default"]=i,module.exports=exports["default"]}),define("locator",["require","exports","module","./babelHelpers","numen/HashLocator"],function(require,exports,module){var e=require("./babelHelpers");exports.__esModule=!0;var t=require("numen/HashLocator"),n=e.interopRequireDefault(t);exports["default"]=new n["default"],module.exports=exports["default"]}),define("common/component/ZippyNav",["require","exports","module","../../babelHelpers","react","melon/Button","melon/Link","melon/common/util/cxBuilder","../../locator","underscore","react-motion"],function(require,exports,module){var e=require("../../babelHelpers");exports.__esModule=!0;var t=require("react"),n=e.interopRequireDefault(t),r=require("melon/Button"),o=e.interopRequireDefault(r),a=require("melon/Link"),i=e.interopRequireDefault(a),u=require("melon/common/util/cxBuilder").create("ZippyNav"),l=require("../../locator"),s=require("underscore"),c=require("react-motion"),p=c.Motion,d=c.spring,f=function(t){function r(n){e.classCallCheck(this,r),t.call(this,n),this.state={expand:n.expand||!1}}return e.inherits(r,t),e.createClass(r,null,[{key:"displayName",value:"ZippyNav",enumerable:!0}]),r.prototype.render=function(){var t=this,r=this.props,a=this.state,c=r.current,f=r.nav,m=r.onActive,h=e.objectWithoutProperties(r,["current","nav","onActive"]),v=a.expand,y=32*f.children.length;return n["default"].createElement("div",e._extends({},h,{className:u(r).build()}),n["default"].createElement("dt",null,n["default"].createElement(o["default"],{size:"xs",onClick:function(){t.setState({expand:!v})}},f.text)),n["default"].createElement(p,{style:{top:d(v?0:-y)}},function(e){var t=e.top;return n["default"].createElement("div",{style:{overflow:"hidden",display:!v&&0===t?"none":null}},n["default"].createElement("dd",{style:{marginTop:Math.round(t)}},s.map(f.children,function(e,t){return n["default"].createElement(i["default"],{size:"xs",states:{active:c.pathname===e.pathname},key:t,onClick:function(){return m()},href:l.createHref(e.pathname,e.query)},e.text)})))}))},r}(n["default"].Component);exports["default"]=f,module.exports=exports["default"]}),define("common/component/DrawerNav",["require","exports","module","../../babelHelpers","react","melon/Drawer","melon/Title","./ZippyNav","melon/common/util/cxBuilder","underscore","../conf/navs"],function(require,exports,module){var e=require("../../babelHelpers");exports.__esModule=!0;var t=require("react"),n=e.interopRequireDefault(t),r=require("melon/Drawer"),o=e.interopRequireDefault(r),a=require("melon/Title"),i=e.interopRequireDefault(a),u=require("./ZippyNav"),l=e.interopRequireDefault(u),s=require("melon/common/util/cxBuilder").create("DrawerNav"),c=require("underscore"),p=require("../conf/navs"),d=function(t){function r(){e.classCallCheck(this,r),t.apply(this,arguments)}return e.inherits(r,t),r.prototype.renderNavs=function(){var e=this,t=this.props.current;return c.map(p,function(r,o){return n["default"].createElement(l["default"],{current:t,key:o,nav:r,onActive:function(){e.props.onHide()}})},this)},r.prototype.render=function(){var t=this.props;return n["default"].createElement(o["default"],e._extends({},t,{className:s(t).build()}),n["default"].createElement(i["default"],{level:2},"Melon"),this.renderNavs())},e.createClass(r,null,[{key:"displayName",value:"DrawerNav",enumerable:!0}]),r}(n["default"].Component);exports["default"]=d,module.exports=exports["default"]}),define("common/component/Confirm",["require","exports","module","../../babelHelpers","es6-promise","melon/dialog/Confirm","react","react-dom"],function(require,exports,module){function e(){var e=document.createElement("div");return e.id=++p,e.className="ui-confirm-wrap",document.body.appendChild(e),e}function t(e){c["default"].unmountComponentAtNode(e),document.body.removeChild(e)}function n(n){return new o.Promise(function(r,o){var a=e();c["default"].render(l["default"].createElement(i["default"],{open:!0,onConfirm:function(e){var n=e.value;t(a),a=null,n?r():o()}},n),a)})}var r=require("../../babelHelpers");exports.__esModule=!0,exports.confirm=n;var o=require("es6-promise"),a=require("melon/dialog/Confirm"),i=r.interopRequireDefault(a),u=require("react"),l=r.interopRequireDefault(u),s=require("react-dom"),c=r.interopRequireDefault(s),p=0;exports["default"]={confirm:n}}),define("ei/main",["require","exports","module","./App","./Page","./Container","./events","./resource","./util/composeReducer","./util/connect"],function(require,exports,module){exports.App=require("./App"),exports.Page=require("./Page"),exports.Container=require("./Container"),exports.events=require("./events"),exports.resource=require("./resource"),exports.composeReducer=require("./util/composeReducer"),exports.connect=require("./util/connect")}),define("common/component/App",["require","exports","module","../../babelHelpers","react","ei"],function(require,exports,module){var e=require("../../babelHelpers");exports.__esModule=!0;var t=require("react"),n=e.interopRequireDefault(t),r=require("ei"),o=e.interopRequireDefault(r),a=function(t){function r(n){e.classCallCheck(this,r),t.call(this,n),this.app=new o["default"].App({routes:this.props.routes})}return e.inherits(r,t),r.prototype.getChildContext=function(){return{app:this.app}},r.prototype.render=function(){return n["default"].createElement("div",{className:"ui-app"},this.props.children)},r}(n["default"].Component),i=n["default"].PropTypes;a.propTypes={routes:i.array.isRequired},a.childContextTypes={app:i.object.isRequired},exports["default"]=a,module.exports=exports["default"]}),define("babelHelpers",["require","exports","module"],function(require,exports,module){var e={};e.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);if(e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t},e.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r)r.writable=!0;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}(),e.objectWithoutProperties=function(e,t){var n={};for(var r in e)if(!(t.indexOf(r)>=0))if(Object.prototype.hasOwnProperty.call(e,r))n[r]=e[r];else;else;return n},e.interopRequireDefault=function(e){return e&&e.__esModule?e:{"default":e}},e._extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))e[r]=n[r]}return e},e.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},module.exports=e}),define("routes",["require","exports","module","./babelHelpers","./home/routes"],function(require,exports,module){var e=require("./babelHelpers");exports.__esModule=!0;var t=require("./home/routes"),n=e.interopRequireDefault(t);exports["default"]=[].concat(n["default"]),module.exports=exports["default"]}),define("main",["require","exports","module","./babelHelpers","react","react-dom","./locator","./routes","./common/component/App","./common/component/Page","./common/component/Nav","es6-promise"],function(require,exports,module){function e(){var e=document.getElementById("main");u["default"].on(function(t){a["default"].render(r["default"].createElement(p["default"],{routes:s["default"]},r["default"].createElement(h["default"],{location:t}),r["default"].createElement(f["default"],{request:t,main:!0})),e)}).start()}var t=require("./babelHelpers");exports.__esModule=!0;var n=require("react"),r=t.interopRequireDefault(n),o=require("react-dom"),a=t.interopRequireDefault(o),i=require("./locator"),u=t.interopRequireDefault(i),l=require("./routes"),s=t.interopRequireDefault(l),c=require("./common/component/App"),p=t.interopRequireDefault(c),d=require("./common/component/Page"),f=t.interopRequireDefault(d),m=require("./common/component/Nav"),h=t.interopRequireDefault(m);require("es6-promise").polyfill(),exports["default"]={init:e},module.exports=exports["default"]});